{"cells":[{"cell_type":"code","source":["!wget https://database.lichess.org/lichess_db_puzzle.csv.zst"],"metadata":{"id":"yHwjDHKpIWSY","executionInfo":{"status":"ok","timestamp":1729284852991,"user_tz":-120,"elapsed":13591,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"9d4f15ab-7917-4078-b82e-ea73490e5866","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":19,"outputs":[{"output_type":"stream","name":"stdout","text":["--2024-10-18 20:53:59--  https://database.lichess.org/lichess_db_puzzle.csv.zst\n","Resolving database.lichess.org (database.lichess.org)... 141.95.66.62, 2001:41d0:700:5e3e::\n","Connecting to database.lichess.org (database.lichess.org)|141.95.66.62|:443... connected.\n","HTTP request sent, awaiting response... 200 OK\n","Length: 210599851 (201M) [application/octet-stream]\n","Saving to: ‘lichess_db_puzzle.csv.zst’\n","\n","lichess_db_puzzle.c 100%[===================>] 200.84M  17.6MB/s    in 12s     \n","\n","2024-10-18 20:54:12 (16.3 MB/s) - ‘lichess_db_puzzle.csv.zst’ saved [210599851/210599851]\n","\n"]}]},{"cell_type":"code","source":["!pip install zstandard"],"metadata":{"id":"LiW7t02PIZjd","executionInfo":{"status":"ok","timestamp":1729284855934,"user_tz":-120,"elapsed":2946,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"f8c41304-7918-427c-cc3c-0a0ece4db331","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":20,"outputs":[{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: zstandard in /usr/local/lib/python3.10/dist-packages (0.23.0)\n"]}]},{"cell_type":"code","source":["import zstandard as zstd\n","\n","# Specify the input and output file names\n","input_file = 'lichess_db_puzzle.csv.zst'\n","output_file = 'lichess_db_puzzle.csv'\n","\n","# Open the input file and decompress it\n","with open(input_file, 'rb') as compressed:\n","    with open(output_file, 'wb') as decompressed:\n","        dctx = zstd.ZstdDecompressor()\n","        dctx.copy_stream(compressed, decompressed)\n","\n","print('Decompression complete. The file is saved as', output_file)"],"metadata":{"id":"vgn4pY-vIjkI","executionInfo":{"status":"ok","timestamp":1729284867284,"user_tz":-120,"elapsed":11355,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"977aa00b-578e-4970-c2e6-8df3d45115ed","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":21,"outputs":[{"output_type":"stream","name":"stdout","text":["Decompression complete. The file is saved as lichess_db_puzzle.csv\n"]}]},{"cell_type":"code","source":["!head -n 50 {output_file}"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"xuJfT6Q5aLI2","executionInfo":{"status":"ok","timestamp":1729284916406,"user_tz":-120,"elapsed":260,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"bf3d4321-5f05-421f-f18f-af3f5cc36832"},"execution_count":23,"outputs":[{"output_type":"stream","name":"stdout","text":["PuzzleId,FEN,Moves,Rating,RatingDeviation,Popularity,NbPlays,Themes,GameUrl,OpeningTags\n","00008,r6k/pp2r2p/4Rp1Q/3p4/8/1N1P2R1/PqP2bPP/7K b - - 0 24,f2g3 e6e7 b2b1 b3c1 b1c1 h6c1,1940,75,94,6608,crushing hangingPiece long middlegame,https://lichess.org/787zsVup/black#48,\n","0000D,5rk1/1p3ppp/pq3b2/8/8/1P1Q1N2/P4PPP/3R2K1 w - - 2 27,d3d6 f8d8 d6d8 f6d8,1447,73,96,28501,advantage endgame short,https://lichess.org/F8M8OS71#53,\n","0008Q,8/4R3/1p2P3/p4r2/P6p/1P3Pk1/4K3/8 w - - 1 64,e7f7 f5e5 e2f1 e5e6,1311,75,90,605,advantage endgame rookEndgame short,https://lichess.org/MQSyb3KW#127,\n","0009B,r2qr1k1/b1p2ppp/pp4n1/P1P1p3/4P1n1/B2P2Pb/3NBP1P/RN1QR1K1 b - - 1 16,b6c5 e2g4 h3g4 d1g4,1099,74,87,571,advantage middlegame short,https://lichess.org/4MWQCxQ6/black#32,Kings_Pawn_Game Kings_Pawn_Game_Leonardis_Variation\n","000VW,r4r2/1p3pkp/p5p1/3R1N1Q/3P4/8/P1q2P2/3R2K1 b - - 3 25,g6f5 d5c5 c2e4 h5g5 g7h8 g5f6,2724,90,92,63,crushing endgame long,https://lichess.org/e9AY2m5j/black#50,\n","000Vc,8/8/4k1p1/2KpP2p/5PP1/8/8/8 w - - 0 53,g4h5 g6h5 f4f5 e6e5 f5f6 e5f6,1556,81,73,94,crushing endgame long pawnEndgame,https://lichess.org/l6AejDMO#105,\n","000Zo,4r3/1k6/pp3r2/1b2P2p/3R1p2/P1R2P2/1P4PP/6K1 w - - 0 35,e5f6 e8e1 g1f2 e1f1,1353,75,86,622,endgame mate mateIn2 short,https://lichess.org/n8Ff742v#69,\n","000aY,r4rk1/pp3ppp/2n1b3/q1pp2B1/8/P1Q2NP1/1PP1PP1P/2KR3R w - - 0 15,g5e7 a5c3 b2c3 c6e7,1428,79,73,505,advantage master middlegame short,https://lichess.org/iihZGl6t#29,Benoni_Defense Benoni_Defense_Benoni-Indian_Defense\n","000hf,r1bqk2r/pp1nbNp1/2p1p2p/8/2BP4/1PN3P1/P3QP1P/3R1RK1 b kq - 0 19,e8f7 e2e6 f7f8 e6f7,1508,74,90,507,mate mateIn2 middlegame short,https://lichess.org/71ygsFeE/black#38,Horwitz_Defense Horwitz_Defense_Other_variations\n","000lC,3r3r/pQNk1ppp/1qnb1n2/1B6/8/8/PPP3PP/3R1R1K w - - 5 19,d1d6 d7d6 b7b6 a7b6,1372,75,96,2210,advantage hangingPiece middlegame short,https://lichess.org/vaqz2bx6#37,\n","000mr,5r1k/5rp1/p7/1b2B2p/1P1P1Pq1/2R1Q3/P3p1P1/2R3K1 w - - 0 41,e3g3 f7f4 e5f4 f8f4,1941,85,62,96,crushing middlegame short,https://lichess.org/8sVpuwso#81,\n","000qP,8/7R/8/5p2/4bk1P/8/2r2K2/6R1 w - - 7 51,f2f1 f4f3 f1e1 c2c1 e1d2 c1g1,2152,79,92,757,crushing endgame exposedKing long skewer,https://lichess.org/r4xUR6fC#101,\n","000rO,3R4/8/K7/pB2b3/1p6/1P2k3/3p4/8 w - - 4 58,a6a5 e5c7 a5b4 c7d8,1075,81,85,65,crushing endgame fork short,https://lichess.org/tzeeBEc2#115,\n","000tp,4r3/5pk1/1p3np1/3p3p/2qQ4/P4N1P/1P3RP1/7K w - - 6 34,d4b6 f6e4 h1g1 e4f2,2051,75,81,114,crushing endgame short trappedPiece,https://lichess.org/GeXqsW90#67,\n","00143,r2q1rk1/5ppp/1np5/p1b5/2p1B3/P7/1P3PPP/R1BQ1RK1 b - - 1 17,d8f6 d1h5 h7h6 h5c5,1783,74,91,2618,advantage middlegame short,https://lichess.org/jcuxlI63/black#34,Scotch_Game Scotch_Game_Mieses_Variation\n","0018S,2kr3r/pp3p2/4p2p/1N1p2p1/3Q4/1P1P4/2q2PPP/5RK1 b - - 1 20,b7b6 d4a1 a7a5 f1c1,2700,116,90,1685,advantage endgame pin short,https://lichess.org/H1ARO2GL/black#40,\n","001Hi,6k1/pp1r1pp1/1qp1p2p/4P2P/5Q2/1P4R1/P1Pr1PP1/R5K1 b - - 4 23,b6d4 f4f6 d4f2 f6f2 d2f2 g1f2,2389,115,58,14,advantage endgame long pin,https://lichess.org/tUkE0z1z/black#46,\n","001Wz,4r1k1/5ppp/r1p5/p1n1RP2/8/2P2N1P/2P3P1/3R2K1 b - - 0 21,e8e5 d1d8 e5e8 d8e8,1125,82,87,70,backRankMate endgame mate mateIn2 short,https://lichess.org/84RH3LaP/black#42,\n","001XA,1qr2rk1/pb2bppp/8/8/2p1N3/P1Bn2P1/2Q2PBP/1R3RK1 b - - 3 23,b8c7 b1b7 c7b7 e4f6 e7f6 g2b7,1640,74,91,1123,crushing discoveredAttack long master middlegame sacrifice,https://lichess.org/KZRiN695/black#46,\n","001cr,8/3B2pp/p5k1/2p3P1/1p1p1K2/8/1P6/8 b - - 0 38,c5c4 d7e8,1757,75,95,444,bishopEndgame endgame mate mateIn1 oneMove,https://lichess.org/7FFNwibw/black#76,\n","001gi,r6r/1pNk1ppp/2np4/b3p3/4P1b1/N1Q5/P4PPP/R3KB1R w KQ - 3 18,c7a8 a5c3,835,121,62,230,bodenMate hangingPiece mate mateIn1 middlegame oneMove,https://lichess.org/1sV2Hr22#35,Sicilian_Defense Sicilian_Defense_Other_variations\n","001h8,2r3k1/2r4p/4p1p1/1p1q1pP1/p1bP1P1Q/P6R/5B2/2R3K1 b - - 5 34,c4e2 h4h7 c7h7 c1c8 g8g7 c8c7,1826,75,93,468,crushing deflection kingsideAttack long middlegame sacrifice,https://lichess.org/IxCahP6X/black#68,\n","001m3,7r/6k1/2b1pp2/8/P1N3p1/5nP1/4RP2/Q4K2 w - - 2 38,e2e6 h8h1 f1e2 h1a1,1497,75,87,265,advantage endgame short skewer,https://lichess.org/LELOz22f#75,\n","001om,5r1k/pp4pp/5p2/1BbQp1r1/6K1/7P/1PP3P1/3R3R w - - 2 26,g4h4 c5f2 g2g3 f2g3,1018,80,89,220,mate mateIn2 middlegame short,https://lichess.org/VWOIWtIh#51,\n","001u3,2r3k1/p1q2pp1/Q3p2p/b1Np4/2nP1P2/4P1P1/5K1P/2B1N3 b - - 3 33,c7b6 a6c8 g8h7 c8b7,2175,81,55,77,advantage hangingPiece middlegame short,https://lichess.org/BBn6ipaK/black#66,\n","001uD,6k1/1p3pp1/1p5p/2r1p3/2n5/r3PN2/2RnNPPP/2R3K1 b - - 1 32,f7f6 f3d2 c4d2 c2d2 c5c1 e2c1,1894,75,92,750,advantage long middlegame,https://lichess.org/2qkVLUl6/black#64,\n","001w5,1rb2rk1/q5P1/4p2p/3p3p/3P1P2/2P5/2QK3P/3R2R1 b - - 0 29,f8f7 c2h7 g8h7 g7g8q,1074,80,92,200,advancedPawn attraction mate mateIn2 middlegame promotion short,https://lichess.org/0e1vxAEn/black#58,\n","001wR,6nr/pp3p1p/k1p5/8/1QN5/2P1P3/4KPqP/8 b - - 5 26,b7b5 b4a5 a6b7 c4d6 b7b8 a5d8,1276,75,98,1374,endgame long mate mateIn3,https://lichess.org/ruvbd9JW/black#52,\n","001wb,r3k2r/pb1p1ppp/1b4q1/1Q2P3/8/2NP1Pn1/PP4PP/R1B2R1K w kq - 1 17,h2g3 g6h5,1499,136,77,66,mate mateIn1 middlegame oneMove,https://lichess.org/hNzYRMWP#33,Ruy_Lopez Ruy_Lopez_Bird_Variation\n","001wr,r4rk1/p3ppbp/Pp1q1np1/3PpbB1/2B5/2N5/1PPQ1PPP/3RR1K1 w - - 4 18,f2f3 d6c5 g1h1 c5c4,951,76,96,2081,advantage fork master masterVsMaster middlegame short,https://lichess.org/KnJ2mojX#35,Pirc_Defense Pirc_Defense_Classical_Variation\n","001xO,k1r1b3/p1r1nppp/1p1qpn2/2Np4/1P1P4/PQRBPN2/5PPP/2R3K1 w - - 0 19,d3a6 b6c5 a6c8 c5c4,1907,75,91,1145,crushing master masterVsMaster middlegame sacrifice short,https://lichess.org/fNCePFgY#37,Slav_Defense Slav_Defense_Other_variations\n","001xl,8/4R1k1/p5pp/3B4/5q2/8/5P1P/6K1 b - - 5 40,g7f6 e7f7 f6e5 f7f4,1241,76,94,11102,advantage endgame master masterVsMaster short skewer superGM,https://lichess.org/bEQkfPQD/black#80,\n","00206,r3kb1r/pppqpn1p/5p2/3p1bpQ/2PP4/4P1B1/PP3PPP/RN2KB1R w KQkq - 1 11,b1c3 f5g4 h5g4 d7g4,1547,76,96,27430,advantage opening short trappedPiece,https://lichess.org/MbJRo6PT#21,Queens_Pawn_Game Queens_Pawn_Game_Accelerated_London_System\n","002CP,r5k1/pp4pp/4p1q1/4p3/3n4/P5P1/1PP2Q1P/2KR1R2 w - - 4 24,f2e3 g6c2,927,81,69,83,endgame mate mateIn1 oneMove queensideAttack,https://lichess.org/pHZnIFdb#47,\n","002Cw,r7/2p2r1k/p2p1q1p/Pp1P4/1P2P3/2PQ4/6R1/R5K1 b - - 2 28,f7g7 e4e5 f6g6 g2g6,1027,81,94,2124,crushing discoveredAttack endgame short,https://lichess.org/lxiSa85s/black#56,\n","002E4,8/8/kpq5/p4pQp/P7/7P/3r2P1/4R2K b - - 10 48,c6a4 g5d2,974,92,33,44,crushing endgame hangingPiece oneMove,https://lichess.org/JwMca3Nw/black#96,\n","002GQ,5rk1/5ppp/4p3/4N3/8/1Pn5/5PPP/5RK1 w - - 0 28,f1c1 c3e2 g1f1 e2c1,879,109,100,29,crushing endgame fork short,https://lichess.org/2K7g2pDT#55,\n","002IE,r3brk1/5pp1/p1nqpn1p/P2pN3/2pP4/2P1PN2/5PPP/RB1QK2R b KQ - 4 16,c6e5 d4e5 d6e7 e5f6,1212,89,60,27,advantage fork middlegame short,https://lichess.org/fDwvVUIp/black#32,Queens_Pawn_Game Queens_Pawn_Game_Accelerated_London_System\n","002KJ,r3kb1r/ppq2ppp/4pn2/2Ppn3/1P4bP/2P2N2/P3BPP1/RNBQ1RK1 b kq - 2 10,f8e7 f3e5 c7e5 e2g4,1612,74,94,1318,crushing discoveredAttack middlegame short,https://lichess.org/2NpTzh7O/black#20,Caro-Kann_Defense Caro-Kann_Defense_Advance_Variation\n","002LF,7r/p2q1pk1/1pp3p1/8/6P1/4Q3/PP1R1P1r/5KN1 b - - 0 38,d7g4 e3e5 f7f6 e5c7 g7h6 c7h2,2257,80,89,369,advantage endgame interference long,https://lichess.org/md88dHiL/black#76,\n","002LW,3r1rk1/1b1n1pp1/3p4/p4PPQ/4P3/3q1BN1/8/2R2RK1 b - - 1 28,d7e5 f5f6 e5f3 f1f3,2464,88,78,112,advantage middlegame short,https://lichess.org/0khwj5dv/black#56,\n","002O7,r3qrk1/2p2pp1/p2bpn1p/2ppNb2/3P1P2/1PP1P1B1/P2N2PP/R2Q1RK1 b - - 0 14,f5g4 e5g4 f6g4 d1g4,969,92,91,345,crushing middlegame short,https://lichess.org/dFEPPiEc/black#28,Queens_Pawn_Game Queens_Pawn_Game_Accelerated_London_System\n","002Tf,r3kbnr/ppp1qppp/2n5/3pP3/5B2/4PQ2/PPP2PPP/RN2KB1R w KQkq - 1 7,f1b5 e7b4 b1c3 b4b2,1575,75,83,164,advantage fork opening short,https://lichess.org/Zq56PwHK#13,Queens_Pawn_Game Queens_Pawn_Game_Chigorin_Variation\n","002Ua,r4rk1/pp3ppp/3p1q2/P1P1p3/2B5/2B2n2/2P2P1P/R2Q1RK1 w - - 0 16,g1h1 f6f4 d1f3 f4f3,1774,75,95,6816,crushing kingsideAttack middlegame short,https://lichess.org/06i3eMVp#31,Sicilian_Defense Sicilian_Defense_Lowenthal_Variation\n","002Uy,8/8/1p6/k7/P1R5/1K5r/8/8 w - - 26 64,c4c3 h3c3 b3c3 a5a4 c3b2 a4b4,1727,75,97,1669,crushing defensiveMove endgame long rookEndgame,https://lichess.org/sLU7YN1A#127,\n","002VP,8/6p1/2B1bn2/6k1/3B4/6K1/4P3/8 b - - 4 44,e6d5 d4f6 g5f5 c6d5,1420,79,38,130,crushing endgame short,https://lichess.org/7yJGEbUK/black#88,\n","002Z9,4r1k1/1p2R1p1/p2p2Pp/P1pP4/5q2/1R3p2/1P1Q3P/5B1K b - - 0 34,f4d2 e7e8,1237,99,69,48,endgame hangingPiece mate mateIn1 oneMove,https://lichess.org/Ek4aENjD/black#68,\n","002bK,8/7p/2b1k3/p2p1pPB/1n1P3P/N1p1P3/4K3/8 b - - 1 42,c6b5 a3b5 c3c2 e2d2,1139,76,92,764,advantage endgame hangingPiece short,https://lichess.org/IFGj8W5s/black#84,\n","002rd,r6k/q1pb1p1p/1b3Pr1/p1ppP2Q/3P2p1/4B3/PP2NRPP/3R2K1 b - - 1 25,d7e6 e2f4 c5d4 f4g6 f7g6 h5h6,1812,74,78,118,crushing kingsideAttack long middlegame pin,https://lichess.org/NcD6lul8/black#50,\n"]}]},{"cell_type":"code","source":["import os\n","\n","# Check if the decompressed file exists\n","if os.path.exists(output_file):\n","    print(f\"{output_file} has been successfully created.\")\n","else:\n","    print(\"Decompression failed.\")"],"metadata":{"id":"XUpn-mbHIkWJ","executionInfo":{"status":"ok","timestamp":1729284298053,"user_tz":-120,"elapsed":10,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"8ac01b44-0012-4348-f4de-da08ee8d40ec","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":7,"outputs":[{"output_type":"stream","name":"stdout","text":["lichess_db_puzzle.csv has been successfully created.\n"]}]},{"cell_type":"code","source":["pip install pyspark"],"metadata":{"id":"l4co-crcMpM-","executionInfo":{"status":"ok","timestamp":1729284303111,"user_tz":-120,"elapsed":5066,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"b3e8dea4-8b19-41ed-819a-601cd96ef520","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":8,"outputs":[{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: pyspark in /usr/local/lib/python3.10/dist-packages (3.5.3)\n","Requirement already satisfied: py4j==0.10.9.7 in /usr/local/lib/python3.10/dist-packages (from pyspark) (0.10.9.7)\n"]}]},{"cell_type":"code","source":["from pyspark.sql import SparkSession\n","\n","# Initialize a Spark session\n","spark = SparkSession.builder \\\n","    .appName(\"Read CSV\") \\\n","    .getOrCreate()\n","\n","# Read the CSV file into a DataFrame\n","df = spark.read.csv(output_file, header=True, inferSchema=True)\n","\n","# Get the first 50 rows\n","first_50_rows = df.limit(50)\n","\n","# Show the results\n","first_50_rows.show()\n","\n","# Stop the Spark session\n","spark.stop()"],"metadata":{"id":"Vq35iqClIkRe","executionInfo":{"status":"ok","timestamp":1729284350209,"user_tz":-120,"elapsed":47105,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"f2e578a3-9f97-42d1-a31f-f24aac642a88","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":9,"outputs":[{"output_type":"stream","name":"stdout","text":["+--------+--------------------+--------------------+------+---------------+----------+-------+--------------------+--------------------+--------------------+\n","|PuzzleId|                 FEN|               Moves|Rating|RatingDeviation|Popularity|NbPlays|              Themes|             GameUrl|         OpeningTags|\n","+--------+--------------------+--------------------+------+---------------+----------+-------+--------------------+--------------------+--------------------+\n","|   00008|r6k/pp2r2p/4Rp1Q/...|f2g3 e6e7 b2b1 b3...|  1940|             75|        94|   6608|crushing hangingP...|https://lichess.o...|                NULL|\n","|   0000D|5rk1/1p3ppp/pq3b2...| d3d6 f8d8 d6d8 f6d8|  1447|             73|        96|  28501|advantage endgame...|https://lichess.o...|                NULL|\n","|   0008Q|8/4R3/1p2P3/p4r2/...| e7f7 f5e5 e2f1 e5e6|  1311|             75|        90|    605|advantage endgame...|https://lichess.o...|                NULL|\n","|   0009B|r2qr1k1/b1p2ppp/p...| b6c5 e2g4 h3g4 d1g4|  1099|             74|        87|    571|advantage middleg...|https://lichess.o...|Kings_Pawn_Game K...|\n","|   000VW|r4r2/1p3pkp/p5p1/...|g6f5 d5c5 c2e4 h5...|  2724|             90|        92|     63|crushing endgame ...|https://lichess.o...|                NULL|\n","|   000Vc|8/8/4k1p1/2KpP2p/...|g4h5 g6h5 f4f5 e6...|  1556|             81|        73|     94|crushing endgame ...|https://lichess.o...|                NULL|\n","|   000Zo|4r3/1k6/pp3r2/1b2...| e5f6 e8e1 g1f2 e1f1|  1353|             75|        86|    622|endgame mate mate...|https://lichess.o...|                NULL|\n","|   000aY|r4rk1/pp3ppp/2n1b...| g5e7 a5c3 b2c3 c6e7|  1428|             79|        73|    505|advantage master ...|https://lichess.o...|Benoni_Defense Be...|\n","|   000hf|r1bqk2r/pp1nbNp1/...| e8f7 e2e6 f7f8 e6f7|  1508|             74|        90|    507|mate mateIn2 midd...|https://lichess.o...|Horwitz_Defense H...|\n","|   000lC|3r3r/pQNk1ppp/1qn...| d1d6 d7d6 b7b6 a7b6|  1372|             75|        96|   2210|advantage hanging...|https://lichess.o...|                NULL|\n","|   000mr|5r1k/5rp1/p7/1b2B...| e3g3 f7f4 e5f4 f8f4|  1941|             85|        62|     96|crushing middlega...|https://lichess.o...|                NULL|\n","|   000qP|8/7R/8/5p2/4bk1P/...|f2f1 f4f3 f1e1 c2...|  2152|             79|        92|    757|crushing endgame ...|https://lichess.o...|                NULL|\n","|   000rO|3R4/8/K7/pB2b3/1p...| a6a5 e5c7 a5b4 c7d8|  1075|             81|        85|     65|crushing endgame ...|https://lichess.o...|                NULL|\n","|   000tp|4r3/5pk1/1p3np1/3...| d4b6 f6e4 h1g1 e4f2|  2051|             75|        81|    114|crushing endgame ...|https://lichess.o...|                NULL|\n","|   00143|r2q1rk1/5ppp/1np5...| d8f6 d1h5 h7h6 h5c5|  1783|             74|        91|   2618|advantage middleg...|https://lichess.o...|Scotch_Game Scotc...|\n","|   0018S|2kr3r/pp3p2/4p2p/...| b7b6 d4a1 a7a5 f1c1|  2700|            116|        90|   1685|advantage endgame...|https://lichess.o...|                NULL|\n","|   001Hi|6k1/pp1r1pp1/1qp1...|b6d4 f4f6 d4f2 f6...|  2389|            115|        58|     14|advantage endgame...|https://lichess.o...|                NULL|\n","|   001Wz|4r1k1/5ppp/r1p5/p...| e8e5 d1d8 e5e8 d8e8|  1125|             82|        87|     70|backRankMate endg...|https://lichess.o...|                NULL|\n","|   001XA|1qr2rk1/pb2bppp/8...|b8c7 b1b7 c7b7 e4...|  1640|             74|        91|   1123|crushing discover...|https://lichess.o...|                NULL|\n","|   001cr|8/3B2pp/p5k1/2p3P...|           c5c4 d7e8|  1757|             75|        95|    444|bishopEndgame end...|https://lichess.o...|                NULL|\n","+--------+--------------------+--------------------+------+---------------+----------+-------+--------------------+--------------------+--------------------+\n","only showing top 20 rows\n","\n"]}]},{"cell_type":"code","source":["from pyspark.sql import SparkSession\n","from pyspark.sql.functions import col\n","\n","# Initialize a Spark session\n","spark = SparkSession.builder \\\n","    .appName(\"Read CSV and Filter\") \\\n","    .getOrCreate()\n","\n","# Read the CSV file\n","df = spark.read.csv(output_file, header=True, inferSchema=True)\n","\n","# Show the first 50 rows of the DataFrame\n","df_first_50 = df.limit(500)\n","\n","# Filter the DataFrame for the column 'Themes' that contains 'mate'\n","filtered_df = df_first_50.filter(col('Themes').contains('mate'))\n","\n","# Collect and print the results\n","results = filtered_df.select('Themes').collect()\n","for row in results:\n","    print(row['Themes'])\n","\n","# Stop the Spark session\n","spark.stop()"],"metadata":{"id":"iz6b_DVtLUBe","executionInfo":{"status":"ok","timestamp":1729284372586,"user_tz":-120,"elapsed":22389,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"7da8c6f0-fb78-41f5-f9cf-634108d977c2","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":10,"outputs":[{"output_type":"stream","name":"stdout","text":["endgame mate mateIn2 short\n","mate mateIn2 middlegame short\n","backRankMate endgame mate mateIn2 short\n","bishopEndgame endgame mate mateIn1 oneMove\n","bodenMate hangingPiece mate mateIn1 middlegame oneMove\n","mate mateIn2 middlegame short\n","advancedPawn attraction mate mateIn2 middlegame promotion short\n","endgame long mate mateIn3\n","mate mateIn1 middlegame oneMove\n","endgame mate mateIn1 oneMove queensideAttack\n","endgame hangingPiece mate mateIn1 oneMove\n","endgame mate mateIn1 oneMove rookEndgame\n","kingsideAttack mate mateIn1 middlegame oneMove\n","endgame mate mateIn1 oneMove\n","backRankMate endgame fork mate mateIn2 short\n","backRankMate mate mateIn2 middlegame short\n","endgame mate mateIn1 oneMove\n","mate mateIn1 middlegame oneMove\n","endgame mate mateIn2 short\n","kingsideAttack mate mateIn1 middlegame oneMove\n","kingsideAttack long mate mateIn3 middlegame sacrifice\n","endgame mate mateIn1 oneMove\n","backRankMate endgame hangingPiece mate mateIn2 short\n","fork mate mateIn2 middlegame short\n","long mate mateIn3 middlegame queensideAttack sacrifice\n","endgame mate mateIn2 short\n","endgame mate mateIn2 short\n","mate mateIn2 middlegame pin short\n","mate mateIn1 middlegame oneMove\n","endgame mate mateIn2 short\n","backRankMate fork mate mateIn2 middlegame short\n","bodenMate mate mateIn1 middlegame oneMove\n","advancedPawn endgame mate mateIn1 oneMove queenEndgame\n","mate mateIn2 middlegame short\n","backRankMate endgame mate mateIn2 short\n","endgame mate mateIn1 oneMove\n","backRankMate mate mateIn1 middlegame oneMove\n","endgame mate mateIn1 oneMove\n","endgame mate mateIn2 short\n","endgame mate mateIn2 short\n","endgame mate mateIn2 pin short\n","hookMate mate mateIn2 middlegame short\n","backRankMate hangingPiece mate mateIn1 middlegame oneMove\n","endgame mate mateIn2 short\n","endgame mate mateIn2 short\n","mate mateIn2 middlegame short\n","endgame mate mateIn2 short\n","mate mateIn2 middlegame short\n","discoveredAttack endgame mate mateIn2 short\n","mate mateIn1 middlegame oneMove\n","backRankMate deflection long mate mateIn3 middlegame\n","attackingF2F7 mate mateIn1 middlegame oneMove\n","backRankMate endgame mate mateIn2 short xRayAttack\n","endgame master mate mateIn1 oneMove\n","mate mateIn1 oneMove opening smotheredMate\n","attraction kingsideAttack long mate mateIn3 middlegame sacrifice\n","endgame mate mateIn1 oneMove rookEndgame\n","deflection endgame mate mateIn2 short\n","kingsideAttack mate mateIn2 middlegame short\n","endgame mate mateIn2 short\n","endgame mate mateIn2 short\n","mate mateIn2 middlegame sacrifice short\n","kingsideAttack mate mateIn1 middlegame oneMove\n","kingsideAttack mate mateIn1 middlegame oneMove\n","kingsideAttack mate mateIn1 middlegame oneMove\n","endgame mate mateIn2 short\n","endgame mate mateIn1 oneMove rookEndgame\n","endgame mate mateIn2 short\n","long mate mateIn3 middlegame queensideAttack sacrifice\n","endgame hangingPiece mate mateIn1 oneMove\n","kingsideAttack mate mateIn1 middlegame oneMove\n","doubleBishopMate mate mateIn1 middlegame oneMove\n","mate mateIn1 middlegame oneMove\n","kingsideAttack mate mateIn1 middlegame oneMove\n","endgame mate mateIn1 oneMove\n","advancedPawn kingsideAttack long mate mateIn3 middlegame promotion sacrifice\n","mate mateIn1 middlegame oneMove\n","arabianMate endgame mate mateIn2 short\n","endgame mate mateIn1 oneMove\n","kingsideAttack mate mateIn2 middlegame sacrifice short\n","endgame mate mateIn1 oneMove rookEndgame\n","endgame mate mateIn1 oneMove\n","endgame mate mateIn2 short\n","mate mateIn1 middlegame oneMove\n","mate mateIn1 middlegame oneMove\n","mate mateIn1 middlegame oneMove\n","mate mateIn1 middlegame oneMove\n","endgame mate mateIn1 oneMove\n","endgame hookMate mate mateIn2 short\n","endgame mate mateIn1 oneMove\n","mate mateIn1 middlegame oneMove\n","endgame master mate mateIn1 oneMove rookEndgame\n","endgame long mate mateIn3 rookEndgame\n","deflection endgame mate mateIn2 short\n","exposedKing kingsideAttack long mate mateIn3 middlegame\n","endgame master masterVsMaster mate mateIn1 oneMove\n","endgame mate mateIn1 oneMove\n","backRankMate endgame mate mateIn2 short\n","endgame mate mateIn2 short\n","endgame mate mateIn1 oneMove\n","endgame hangingPiece mate mateIn2 short\n","kingsideAttack mate mateIn1 middlegame oneMove\n","endgame long mate mateIn3 rookEndgame\n","endgame mate mateIn2 short\n","endgame mate mateIn1 oneMove\n","clearance endgame mate mateIn2 pin sacrifice short\n","endgame mate mateIn2 sacrifice short\n","advancedPawn doubleCheck mate mateIn4 middlegame promotion queensideAttack sacrifice veryLong\n","kingsideAttack mate mateIn2 middlegame short\n","endgame mate mateIn2 short\n","kingsideAttack mate mateIn2 middlegame short\n","endgame mate mateIn2 short\n","backRankMate mate mateIn2 middlegame short\n","mate mateIn1 middlegame oneMove\n","mate mateIn1 middlegame oneMove\n","endgame mate mateIn2 short\n","backRankMate endgame mate mateIn2 short\n","mate mateIn2 middlegame short\n","endgame mate mateIn2 sacrifice short\n","endgame kingsideAttack mate mateIn2 queenRookEndgame short\n","endgame mate mateIn2 short\n","mate mateIn1 middlegame oneMove\n","backRankMate deflection endgame fork master mate mateIn4 pin sacrifice veryLong\n","backRankMate long mate mateIn3 middlegame sacrifice\n","mate mateIn2 middlegame queensideAttack sacrifice short\n","endgame mate mateIn2 short\n","endgame mate mateIn1 oneMove\n","endgame mate mateIn1 oneMove\n","mate mateIn1 oneMove opening\n","endgame mate mateIn1 oneMove\n","kingsideAttack mate mateIn2 middlegame short\n","endgame mate mateIn1 oneMove\n","mate mateIn2 middlegame short\n","kingsideAttack long mate mateIn3 middlegame sacrifice\n","endgame knightEndgame mate mateIn2 short\n","endgame mate mateIn1 oneMove\n","endgame long mate mateIn3\n","endgame exposedKing long mate mateIn3 rookEndgame\n","endgame master mate mateIn1 oneMove\n","mate mateIn2 opening short\n","backRankMate hangingPiece mate mateIn1 middlegame oneMove\n","endgame mate mateIn1 oneMove\n","backRankMate endgame mate mateIn2 short\n","mate mateIn1 oneMove opening\n"]}]},{"cell_type":"code","source":["from pyspark.sql import SparkSession\n","from pyspark.sql.functions import col\n","\n","# Step 1: Initialize a Spark session\n","spark = SparkSession.builder \\\n","    .appName(\"Filter CSV Example\") \\\n","    .getOrCreate()\n","\n","# Step 2: Read the CSV file\n","df = spark.read.csv(output_file, header=True, inferSchema=True)\n","\n","# Step 3: Filter rows where 'Themes' contains 'mate'\n","filtered_df = df.filter(col('Themes').contains('mate'))\n","\n","# Step 4: Write the resulting DataFrame to a single CSV file\n","\n","filtered_output_file = 'lichess_db_puzzle_mate.csv'  # Modify with your desired output path\n","# filtered_df.coalesce(1).write.csv(filtered_output_file, header=True, mode='overwrite')\n","filtered_df.toPandas().to_csv(filtered_output_file, header=True, index=False)\n","\n","# Stop the Spark session\n","spark.stop()"],"metadata":{"id":"ISEgTVrhMCaM","executionInfo":{"status":"ok","timestamp":1729285392791,"user_tz":-120,"elapsed":69043,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}}},"execution_count":24,"outputs":[]},{"cell_type":"code","source":["# remove outuput file or directory\n","# !rm -r {filtered_output_file}"],"metadata":{"id":"N638STv8OFyQ","executionInfo":{"status":"ok","timestamp":1729284450804,"user_tz":-120,"elapsed":21,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}}},"execution_count":12,"outputs":[]},{"cell_type":"code","source":["# Use the ! to run the wc command from within Jupyter notebook\n","lines_count = !wc -l < {filtered_output_file}\n","print(f\"Found: {lines_count[0]} lines containing a final mate position.\")"],"metadata":{"id":"W1HwjaS7NuAc","executionInfo":{"status":"ok","timestamp":1729285392793,"user_tz":-120,"elapsed":19,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"6407c86b-e7e1-4b13-8e1e-deeca5f741f0","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":25,"outputs":[{"output_type":"stream","name":"stdout","text":["Found: 1095085 lines containing a final mate position.\n"]}]},{"cell_type":"code","source":["!head -n 50 {filtered_output_file}"],"metadata":{"id":"J9U2I1tzPR8m","executionInfo":{"status":"ok","timestamp":1729285392794,"user_tz":-120,"elapsed":13,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"c832fc53-392e-48fe-80a8-145071e93128","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":26,"outputs":[{"output_type":"stream","name":"stdout","text":["PuzzleId,FEN,Moves,Rating,RatingDeviation,Popularity,NbPlays,Themes,GameUrl,OpeningTags\n","000Zo,4r3/1k6/pp3r2/1b2P2p/3R1p2/P1R2P2/1P4PP/6K1 w - - 0 35,e5f6 e8e1 g1f2 e1f1,1353,75,86,622,endgame mate mateIn2 short,https://lichess.org/n8Ff742v#69,\n","000hf,r1bqk2r/pp1nbNp1/2p1p2p/8/2BP4/1PN3P1/P3QP1P/3R1RK1 b kq - 0 19,e8f7 e2e6 f7f8 e6f7,1508,74,90,507,mate mateIn2 middlegame short,https://lichess.org/71ygsFeE/black#38,Horwitz_Defense Horwitz_Defense_Other_variations\n","001Wz,4r1k1/5ppp/r1p5/p1n1RP2/8/2P2N1P/2P3P1/3R2K1 b - - 0 21,e8e5 d1d8 e5e8 d8e8,1125,82,87,70,backRankMate endgame mate mateIn2 short,https://lichess.org/84RH3LaP/black#42,\n","001cr,8/3B2pp/p5k1/2p3P1/1p1p1K2/8/1P6/8 b - - 0 38,c5c4 d7e8,1757,75,95,444,bishopEndgame endgame mate mateIn1 oneMove,https://lichess.org/7FFNwibw/black#76,\n","001gi,r6r/1pNk1ppp/2np4/b3p3/4P1b1/N1Q5/P4PPP/R3KB1R w KQ - 3 18,c7a8 a5c3,835,121,62,230,bodenMate hangingPiece mate mateIn1 middlegame oneMove,https://lichess.org/1sV2Hr22#35,Sicilian_Defense Sicilian_Defense_Other_variations\n","001om,5r1k/pp4pp/5p2/1BbQp1r1/6K1/7P/1PP3P1/3R3R w - - 2 26,g4h4 c5f2 g2g3 f2g3,1018,80,89,220,mate mateIn2 middlegame short,https://lichess.org/VWOIWtIh#51,\n","001w5,1rb2rk1/q5P1/4p2p/3p3p/3P1P2/2P5/2QK3P/3R2R1 b - - 0 29,f8f7 c2h7 g8h7 g7g8q,1074,80,92,200,advancedPawn attraction mate mateIn2 middlegame promotion short,https://lichess.org/0e1vxAEn/black#58,\n","001wR,6nr/pp3p1p/k1p5/8/1QN5/2P1P3/4KPqP/8 b - - 5 26,b7b5 b4a5 a6b7 c4d6 b7b8 a5d8,1276,75,98,1374,endgame long mate mateIn3,https://lichess.org/ruvbd9JW/black#52,\n","001wb,r3k2r/pb1p1ppp/1b4q1/1Q2P3/8/2NP1Pn1/PP4PP/R1B2R1K w kq - 1 17,h2g3 g6h5,1499,136,77,66,mate mateIn1 middlegame oneMove,https://lichess.org/hNzYRMWP#33,Ruy_Lopez Ruy_Lopez_Bird_Variation\n","002CP,r5k1/pp4pp/4p1q1/4p3/3n4/P5P1/1PP2Q1P/2KR1R2 w - - 4 24,f2e3 g6c2,927,81,69,83,endgame mate mateIn1 oneMove queensideAttack,https://lichess.org/pHZnIFdb#47,\n","002Z9,4r1k1/1p2R1p1/p2p2Pp/P1pP4/5q2/1R3p2/1P1Q3P/5B1K b - - 0 34,f4d2 e7e8,1237,99,69,48,endgame hangingPiece mate mateIn1 oneMove,https://lichess.org/Ek4aENjD/black#68,\n","002vV,8/6k1/2R4p/5p1P/5P1K/6P1/8/r7 w - - 2 58,c6b6 a1h1,435,88,100,160,endgame mate mateIn1 oneMove rookEndgame,https://lichess.org/KB7FAntf#115,\n","003AX,2r2rk1/5ppp/bq2p3/p1ppP1N1/Pb1P2P1/1P2P2P/2QN4/2R1K2R b K - 1 18,c5d4 c2h7,1076,75,100,237,kingsideAttack mate mateIn1 middlegame oneMove,https://lichess.org/kRgejRSt/black#36,French_Defense French_Defense_Advance_Variation\n","003IX,8/3pk3/R7/1R2Pp1p/2PPnKr1/8/8/8 w - - 4 43,f4f5 e4g3,1714,77,90,1246,endgame mate mateIn1 oneMove,https://lichess.org/576Btq56#85,\n","003Tx,2r5/pR5p/5p1k/4p3/4r3/B4nPP/PP3P2/1K2R3 w - - 0 27,e1e4 f3d2 b1a1 c8c1,1545,88,83,695,backRankMate endgame fork mate mateIn2 short,https://lichess.org/A7j9VEC0#53,\n","0042j,3r2k1/4nppp/pq1p1b2/1p2P3/2r2P2/2P1NR2/PP1Q2BP/3R2K1 b - - 0 24,d6e5 d2d8 b6d8 d1d8,504,114,94,1212,backRankMate mate mateIn2 middlegame short,https://lichess.org/DuM2FZjg/black#48,\n","004JD,3r4/R7/2p5/p1P2p2/1p4k1/nP6/P2KNP2/8 w - - 3 41,d2e3 a3c2,1326,75,91,2625,endgame mate mateIn1 oneMove,https://lichess.org/6vTeEc3x#81,\n","004WZ,r6k/1b3pp1/p1q1pn1p/2p5/P1B5/1PN4Q/2P1RP1P/R4Kr1 w - - 2 26,f1g1 c6h1,1049,150,100,48,mate mateIn1 middlegame oneMove,https://lichess.org/BQIdXPOM#51,\n","004X6,1r4k1/p4ppp/2Q5/3pq3/8/P6P/2PR1PP1/Rr4K1 w - - 1 26,a1b1 b8b1 d2d1 b1d1,1176,278,83,11,endgame mate mateIn2 short,https://lichess.org/wvPFkjF9#51,\n","004iZ,r2r2k1/2q1bpp1/3p1n1p/1ppN4/1P1BP3/P5Q1/4RPPP/R5K1 b - - 1 20,f6d5 g3g7,558,89,89,884,kingsideAttack mate mateIn1 middlegame oneMove,https://lichess.org/dQ85JUe1/black#40,\n","004kB,4rr1k/pQpn2pp/3p1q2/8/8/2P5/PP3PPP/RN3RK1 w - - 1 16,b7c7 f6f2 f1f2 e8e1 f2f1 e1f1,1213,76,60,189,kingsideAttack long mate mateIn3 middlegame sacrifice,https://lichess.org/Cl9T6bjt#31,Ruy_Lopez Ruy_Lopez_Steinitz_Defense\n","004zI,2q3k1/4br1p/6RQ/1p1n2p1/7P/1P4P1/1B2PP2/6K1 b - - 0 27,h7g6 h6h8,1443,75,79,313,endgame mate mateIn1 oneMove,https://lichess.org/HE33gdt4/black#54,\n","005N7,r6k/2q3pp/8/2p1n3/R1Qp4/7P/2PB1PP1/6K1 b - - 0 32,e5c4 a4a8 c7b8 a8b8,470,97,93,1635,backRankMate endgame hangingPiece mate mateIn2 short,https://lichess.org/jxZhmGhg/black#64,\n","005nD,3rk2r/2qn1pp1/p1Q1R3/3n3p/8/8/PP4PP/5R1K b k - 0 23,f7e6 c6e6 d5e7 e6f7,1049,75,99,488,fork mate mateIn2 middlegame short,https://lichess.org/hlgaj6lV/black#46,\n","005wy,1r6/pp2kpp1/2n1p1n1/3p2PQ/5P2/2PqP3/PP1N4/2KR3R w - - 3 27,h5h7 c6b4 c3b4 b8c8 d2c4 c8c4,1963,75,94,3854,long mate mateIn3 middlegame queensideAttack sacrifice,https://lichess.org/mBQMheB4#53,\n","0061g,6k1/pp3pp1/2p1q1Pp/3b4/8/6Q1/PB3Pp1/3RrNK1 b - - 2 27,e1d1 g3b8 e6e8 b8e8,803,91,72,264,endgame mate mateIn2 short,https://lichess.org/dJ3xEKJK/black#54,\n","006HV,1r6/5k2/2p1pNp1/p5Pp/1pQ1P2P/2P4R/KP3P2/3q4 w - - 4 31,c4c6 b4b3 a2a3 d1a1,1198,75,93,964,endgame mate mateIn2 short,https://lichess.org/ibb2c72C#61,\n","006pe,r4r2/2q1NN2/4bQpk/2n4p/pp5P/8/1PP2PP1/2KR3R b - - 0 28,e6f7 e7f5 h6h7 f6g7,1661,75,100,303,mate mateIn2 middlegame pin short,https://lichess.org/gkSEAS27/black#56,\n","007HB,rn2q1k1/pp3ppp/2pb4/3p1B2/2Pn4/1Q3N2/PP3PPP/R1B4K w - - 0 15,f3d4 e8e1,675,82,100,78,mate mateIn1 middlegame oneMove,https://lichess.org/prYQo0BK#29,Petrovs_Defense Petrovs_Defense_Classical_Attack\n","007Rn,4r1k1/p4p1p/1p6/6q1/3P2n1/P4Q2/1P1B2P1/7K w - - 0 34,d2g5 e8e1 f3f1 e1f1,992,82,75,74,endgame mate mateIn2 short,https://lichess.org/L9kH7FqT#67,\n","007XE,2kr3r/p1p1bpp1/2p2n1p/8/8/1P6/P1P1RPPP/RNB3K1 w - - 1 16,e2e7 d8d1 e7e1 d1e1,645,90,79,66,backRankMate fork mate mateIn2 middlegame short,https://lichess.org/f4f7UwiT#31,Kings_Pawn_Game Kings_Pawn_Game_Leonardis_Variation\n","007c6,2kr3r/pp1n2pp/2QB1bp1/5q2/2B5/8/PPP2PPP/3R1RK1 b - - 0 17,b7c6 c4a6,723,79,56,151,bodenMate mate mateIn1 middlegame oneMove,https://lichess.org/vqwzqZHC/black#34,Elephant_Gambit Elephant_Gambit_Other_variations\n","007fJ,8/1P3ppp/8/8/8/2pk3P/3p2P1/3K4 w - - 0 52,b7b8q c3c2,509,101,94,252,advancedPawn endgame mate mateIn1 oneMove queenEndgame,https://lichess.org/34ezZi7R#103,\n","007ku,r1bq3Q/1np2kp1/p5B1/1p1Pp3/1Pn2BP1/2b2P2/P3K3/R4N2 b - - 5 35,f7g6 h8h5 g6f6 f4g5,1605,74,88,957,mate mateIn2 middlegame short,https://lichess.org/QveLbBjG/black#70,\n","008GK,1k1r4/ppp3p1/8/1P5p/8/P3n2P/2P1r1P1/B3NRK1 b - - 4 31,d8d1 f1f8 d1d8 f8d8,437,100,89,1623,backRankMate endgame mate mateIn2 short,https://lichess.org/9vFFDYsH/black#62,\n","008LD,8/6pp/4N1k1/5p2/5P2/5rPb/4R2P/6K1 w - - 0 35,e6g5 f3f1,412,93,78,165,endgame mate mateIn1 oneMove,https://lichess.org/jzHHsjDp#69,\n","008Nz,6k1/2p2ppp/pnp5/B7/2P3PP/1P1bPPR1/r6r/3R2K1 b - - 1 29,d3e2 d1d8,457,99,84,884,backRankMate mate mateIn1 middlegame oneMove,https://lichess.org/HNU4zavC/black#58,\n","008o6,Q5k1/p1p3p1/5rP1/8/3P4/7P/q3r3/B4RK1 b - - 1 34,f6f8 a8f8,471,87,75,117,endgame mate mateIn1 oneMove,https://lichess.org/1k4lXfEi/black#68,\n","008oX,4r1k1/2R3pp/2p4q/1p1p4/3P4/P7/1PP2R2/1K1N4 b - - 3 32,e8e1 c7c8 e1e8 c8e8,978,76,71,217,endgame mate mateIn2 short,https://lichess.org/APGKH8YH/black#64,\n","0092z,2r3k1/2qR1ppp/p7/2p2Q2/P7/7P/5PP1/6K1 b - - 3 26,c7c6 f5f7 g8h8 f7g7,946,86,94,415,endgame mate mateIn2 short,https://lichess.org/fjaha7q0/black#52,\n","009BH,3r2k1/6p1/4Q3/4B3/1p3P2/4PKP1/3q4/8 b - - 17 51,g8h8 e6h6 h8g8 h6g7,1459,74,99,1161,endgame mate mateIn2 pin short,https://lichess.org/QauOOpOY/black#102,\n","009IO,3rk3/5p1r/p2Np1p1/3bP3/P2n4/8/1P3RPP/5RK1 b - - 4 25,e8e7 f2f7 h7f7 f1f7,1168,81,87,539,hookMate mate mateIn2 middlegame short,https://lichess.org/LJBrm9Or/black#50,\n","009L0,6k1/pb2r1pN/1n4Bp/3p4/1P2pR2/P7/3R1PPP/2r3K1 w - - 2 30,d2d1 c1d1,706,146,18,22,backRankMate hangingPiece mate mateIn1 middlegame oneMove,https://lichess.org/SAhQtou2#59,\n","009bR,4r2k/3q2r1/1p4pQ/p1pP4/2P4P/1N4p1/PP3RK1/8 b - - 1 37,g7h7 f2f8 e8f8 h6f8,894,76,100,98,endgame mate mateIn2 short,https://lichess.org/rvHGlZar/black#74,\n","009f8,8/1p4p1/pb2ppkp/3n4/3P4/P3BN1P/1P2KPP1/8 b - - 0 26,g6f5 f3h4 f5e4 f2f3,1178,83,91,150,endgame mate mateIn2 short,https://lichess.org/paDYagZM/black#52,\n","009lk,1R6/6pk/2p4p/3bP2r/5B1P/2P2qP1/P4P1Q/4R1K1 w - - 2 40,e1e3 f3d1 e3e1 d1e1,925,79,95,876,mate mateIn2 middlegame short,https://lichess.org/gLNPef4f#79,\n","009oc,5Q2/pbp3np/1p1pB1pk/1P6/P3q2P/6K1/8/8 b - - 1 32,e4e6 f8f4 g6g5 f4g5,1074,75,96,600,endgame mate mateIn2 short,https://lichess.org/426eHXom/black#64,\n","009uB,3br2r/5k1p/4p1pQ/P5P1/1B5P/P6q/5R2/6K1 b - - 1 35,f7g8 f2f8 e8f8 h6f8,964,82,95,285,mate mateIn2 middlegame short,https://lichess.org/1llcQdqK/black#70,\n","009zR,3r4/p1p2ppp/4k3/6Q1/5P2/4P3/Prqn2PP/3R1RK1 w - - 3 22,g5d8 d2f3 g1h1 c2g2,1629,78,87,169,discoveredAttack endgame mate mateIn2 short,https://lichess.org/SctCD3fJ#43,\n"]}]},{"cell_type":"code","source":["!ls -lh"],"metadata":{"id":"UNbo8ab8TlAi","executionInfo":{"status":"ok","timestamp":1729285408074,"user_tz":-120,"elapsed":284,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"6bd7903c-179f-439f-d2dd-8753aecdf6f7","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":27,"outputs":[{"output_type":"stream","name":"stdout","text":["total 1.1G\n","-rw-r--r-- 1 root root 738M Oct 18 20:54 lichess_db_puzzle.csv\n","-rw-r--r-- 1 root root 201M Oct  7 12:35 lichess_db_puzzle.csv.zst\n","-rw-r--r-- 1 root root 186M Oct 18 21:03 lichess_db_puzzle_mate.csv\n","drwxr-xr-x 1 root root 4.0K Oct 17 13:21 sample_data\n"]}]},{"cell_type":"code","source":["# remove initial compressed version of lichess_db and uncompressed version as well\n","!rm lichess_db_puzzle.csv.zst\n","!rm lichess_db_puzzle.csv"],"metadata":{"id":"Yx9dgAzuYdic","executionInfo":{"status":"ok","timestamp":1729285413077,"user_tz":-120,"elapsed":569,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}}},"execution_count":28,"outputs":[]},{"cell_type":"code","source":["import pandas as pd\n","\n","filtered_output_file = 'lichess_db_puzzle_mate.csv'\n","\n","# Load CSV file into a DataFrame\n","df = pd.read_csv(filtered_output_file)\n","\n","# Process each row using itertuples\n","line=0\n","for row in df.itertuples(index=True):\n","    # Custom processing logic\n","    print(f\"Row {line} {df['PuzzleId'][line]} | {df['FEN'][line]} | {df['Moves'][line]}|\")\n","\n","    line = line + 1\n","    if line > 10:\n","      break\n","\n"],"metadata":{"id":"Z0MvpEH1Vyzg","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1729286045824,"user_tz":-120,"elapsed":5369,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"b0461ca8-4055-4a39-df44-e4f4e09741a6"},"execution_count":38,"outputs":[{"output_type":"stream","name":"stdout","text":["Row 0 000Zo | 4r3/1k6/pp3r2/1b2P2p/3R1p2/P1R2P2/1P4PP/6K1 w - - 0 35 | e5f6 e8e1 g1f2 e1f1|\n","Row 1 000hf | r1bqk2r/pp1nbNp1/2p1p2p/8/2BP4/1PN3P1/P3QP1P/3R1RK1 b kq - 0 19 | e8f7 e2e6 f7f8 e6f7|\n","Row 2 001Wz | 4r1k1/5ppp/r1p5/p1n1RP2/8/2P2N1P/2P3P1/3R2K1 b - - 0 21 | e8e5 d1d8 e5e8 d8e8|\n","Row 3 001cr | 8/3B2pp/p5k1/2p3P1/1p1p1K2/8/1P6/8 b - - 0 38 | c5c4 d7e8|\n","Row 4 001gi | r6r/1pNk1ppp/2np4/b3p3/4P1b1/N1Q5/P4PPP/R3KB1R w KQ - 3 18 | c7a8 a5c3|\n","Row 5 001om | 5r1k/pp4pp/5p2/1BbQp1r1/6K1/7P/1PP3P1/3R3R w - - 2 26 | g4h4 c5f2 g2g3 f2g3|\n","Row 6 001w5 | 1rb2rk1/q5P1/4p2p/3p3p/3P1P2/2P5/2QK3P/3R2R1 b - - 0 29 | f8f7 c2h7 g8h7 g7g8q|\n","Row 7 001wR | 6nr/pp3p1p/k1p5/8/1QN5/2P1P3/4KPqP/8 b - - 5 26 | b7b5 b4a5 a6b7 c4d6 b7b8 a5d8|\n","Row 8 001wb | r3k2r/pb1p1ppp/1b4q1/1Q2P3/8/2NP1Pn1/PP4PP/R1B2R1K w kq - 1 17 | h2g3 g6h5|\n","Row 9 002CP | r5k1/pp4pp/4p1q1/4p3/3n4/P5P1/1PP2Q1P/2KR1R2 w - - 4 24 | f2e3 g6c2|\n","Row 10 002Z9 | 4r1k1/1p2R1p1/p2p2Pp/P1pP4/5q2/1R3p2/1P1Q3P/5B1K b - - 0 34 | f4d2 e7e8|\n"]}]},{"cell_type":"code","source":["pip install python-chess"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"ybiO6UyuZfRK","executionInfo":{"status":"ok","timestamp":1729286114024,"user_tz":-120,"elapsed":5769,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"bc5223a0-f5cc-4ce1-9a27-dd1ba3c05b4c"},"execution_count":39,"outputs":[{"output_type":"stream","name":"stdout","text":["Collecting python-chess\n","  Downloading python_chess-1.999-py3-none-any.whl.metadata (776 bytes)\n","Collecting chess<2,>=1 (from python-chess)\n","  Downloading chess-1.11.1.tar.gz (156 kB)\n","\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m156.5/156.5 kB\u001b[0m \u001b[31m2.7 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n","\u001b[?25h  Preparing metadata (setup.py) ... \u001b[?25l\u001b[?25hdone\n","Downloading python_chess-1.999-py3-none-any.whl (1.4 kB)\n","Building wheels for collected packages: chess\n","  Building wheel for chess (setup.py) ... \u001b[?25l\u001b[?25hdone\n","  Created wheel for chess: filename=chess-1.11.1-py3-none-any.whl size=148497 sha256=a39a31b6ab7d238a5d2c741bf07f22b6ea6ac7159e6f34fc4f7a56cf43dde088\n","  Stored in directory: /root/.cache/pip/wheels/2e/2d/23/1bfc95db984ed3ecbf6764167dc7526d0ab521cf9a9852544e\n","Successfully built chess\n","Installing collected packages: chess, python-chess\n","Successfully installed chess-1.11.1 python-chess-1.999\n"]}]},{"cell_type":"code","source":["import pandas as pd\n","import chess\n","\n","def getPiecePositions(piece_type, piece_color):\n","    # Now let's find all the white queens and their positions\n","    positions = []\n","\n","    for square in chess.SQUARES:\n","        piece = board.piece_at(square)\n","        if piece is not None and piece.piece_type == piece_type and piece.color == piece_color:\n","          # In python-chess, files are numbered from 0 to 7 (where 0 corresponds to the 'a' file and 7 corresponds to the 'h' file),\n","          # and ranks also range from 0 to 7 (with 0 being rank 1 and 7 being rank 8).\n","          # You can adjust these values if you need them to match standard chess notation.\n","          x = chess.square_file(square)\n","          y = chess.square_rank(square)\n","          positions.append((x, y, chess.square_name(square)))  # Store the position in algebraic notation\n","\n","    return positions\n","\n","filtered_output_file = 'lichess_db_puzzle_mate.csv'\n","\n","# Load CSV file into a DataFrame\n","df = pd.read_csv(filtered_output_file)\n","\n","# Process each row using itertuples\n","line=0\n","for row in df.itertuples(index=True):\n","\n","    if df['PuzzleId'][line] != 'pSskg':\n","      line = line + 1\n","      continue\n","\n","    moves_to_apply = df['Moves'][line].split()\n","\n","    # Custom processing logic\n","    print(f\"Row {line} {df['PuzzleId'][line]} | {df['FEN'][line]} | {moves_to_apply}| | {df['GameUrl'][line]}\")\n","\n","    # Print the board position\n","    #print(board)\n","    #display(board)\n","    print('Making moves')\n","    # Load the position from the FEN string\n","    board = chess.Board(df['FEN'][line])\n","\n","    # Apply each move to the board\n","    for move in moves_to_apply:\n","        # Create a Move object from the UCI string\n","        chess_move = chess.Move.from_uci(move)\n","\n","        # Check if the move is legal before making it\n","        if chess_move in board.legal_moves:\n","            board.push(chess_move)\n","        else:\n","            print(f\"Illegal move: {move}\")\n","\n","    # Print the board position\n","    # print(board)\n","    display(board)\n","    print()\n","    print()\n","\n","    mated_color = None\n","    # Check if the position is checkmate\n","    if board.is_checkmate():\n","        # Determine the color of the king being mated\n","        # If it's white's turn to move, then black's king is in checkmate; otherwise, white's king is in checkmate.\n","        if board.turn == chess.WHITE:\n","            mated_color = chess.WHITE\n","            print(\"Black's king is checkmated.\")\n","        else:\n","            mated_color = chess.BLACK\n","            print(\"White's king is checkmated.\")\n","    else:\n","        print(\"The position is not checkmate.\")\n","\n","    # find pieces that deliver the check\n","    # Determine the square of the king in check\n","    king_square = board.king(board.turn)\n","\n","    # Now let's find all the white queens and their positions\n","    king = getPiecePositions(chess.KING, chess.BLACK)\n","    queens = getPiecePositions(chess.QUEEN, chess.WHITE)\n","    rooks = getPiecePositions(chess.ROOK, chess.WHITE)\n","\n","    # Output the positions\n","    print(f\"Positions of black king {king} white queens {queens} and rooks {rooks}\")\n","\n","    # Iterate through all squares on the board\n","    for square in chess.SQUARES:\n","        piece = board.piece_at(square)\n","        if piece is not None:\n","\n","            if piece.color != mated_color:\n","              # Get the piece type and color\n","              piece_type = piece.symbol()\n","              piece_color = \"white\" if piece.color == chess.WHITE else \"black\"\n","\n","              # Convert square to algebraic notation (e.g., e4)\n","              square_name = chess.square_name(square)\n","              print(f\"{piece_color} {piece_type} is on {square_name}\")\n","\n","    line = line + 1\n","\n","    break"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":659},"id":"volxaL8Ve_Lq","executionInfo":{"status":"ok","timestamp":1729291890267,"user_tz":-120,"elapsed":13450,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}},"outputId":"dee83204-8e43-4189-9ef7-0942adbc4fc8"},"execution_count":79,"outputs":[{"output_type":"stream","name":"stdout","text":["Row 908802 pSskg | 6r1/pp3p2/2p1b3/3pQ3/3P2k1/2P3P1/PP1q3p/5R1K b - - 0 32 | ['g4h3', 'e5h5', 'h3g3', 'f1f3']| | https://lichess.org/AAzAn0dy/black#64\n","Making moves\n"]},{"output_type":"display_data","data":{"text/plain":["Board('6r1/pp3p2/2p1b3/3p3Q/3P4/2P2Rk1/PP1q3p/7K b - - 1 34')"],"image/svg+xml":"<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 390 390\" width=\"390\" height=\"390\"><desc><pre>. . . . . . r .\np p . . . p . .\n. . p . b . . .\n. . . p . . . Q\n. . . P . . . .\n. . P . . R k .\nP P . q . . . p\n. . . . . . . K</pre></desc><defs><g id=\"white-pawn\" class=\"white pawn\"><path d=\"M22.5 9c-2.21 0-4 1.79-4 4 0 .89.29 1.71.78 2.38C17.33 16.5 16 18.59 16 21c0 2.03.94 3.84 2.41 5.03-3 1.06-7.41 5.55-7.41 13.47h23c0-7.92-4.41-12.41-7.41-13.47 1.47-1.19 2.41-3 2.41-5.03 0-2.41-1.33-4.5-3.28-5.62.49-.67.78-1.49.78-2.38 0-2.21-1.79-4-4-4z\" fill=\"#fff\" stroke=\"#000\" stroke-width=\"1.5\" stroke-linecap=\"round\" /></g><g id=\"white-rook\" class=\"white rook\" fill=\"#fff\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M9 39h27v-3H9v3zM12 36v-4h21v4H12zM11 14V9h4v2h5V9h5v2h5V9h4v5\" stroke-linecap=\"butt\" /><path d=\"M34 14l-3 3H14l-3-3\" /><path d=\"M31 17v12.5H14V17\" stroke-linecap=\"butt\" stroke-linejoin=\"miter\" /><path d=\"M31 29.5l1.5 2.5h-20l1.5-2.5\" /><path d=\"M11 14h23\" fill=\"none\" stroke-linejoin=\"miter\" /></g><g id=\"white-queen\" class=\"white queen\" fill=\"#fff\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M8 12a2 2 0 1 1-4 0 2 2 0 1 1 4 0zM24.5 7.5a2 2 0 1 1-4 0 2 2 0 1 1 4 0zM41 12a2 2 0 1 1-4 0 2 2 0 1 1 4 0zM16 8.5a2 2 0 1 1-4 0 2 2 0 1 1 4 0zM33 9a2 2 0 1 1-4 0 2 2 0 1 1 4 0z\" /><path d=\"M9 26c8.5-1.5 21-1.5 27 0l2-12-7 11V11l-5.5 13.5-3-15-3 15-5.5-14V25L7 14l2 12zM9 26c0 2 1.5 2 2.5 4 1 1.5 1 1 .5 3.5-1.5 1-1.5 2.5-1.5 2.5-1.5 1.5.5 2.5.5 2.5 6.5 1 16.5 1 23 0 0 0 1.5-1 0-2.5 0 0 .5-1.5-1-2.5-.5-2.5-.5-2 .5-3.5 1-2 2.5-2 2.5-4-8.5-1.5-18.5-1.5-27 0z\" stroke-linecap=\"butt\" /><path d=\"M11.5 30c3.5-1 18.5-1 22 0M12 33.5c6-1 15-1 21 0\" fill=\"none\" /></g><g id=\"white-king\" class=\"white king\" fill=\"none\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M22.5 11.63V6M20 8h5\" stroke-linejoin=\"miter\" /><path d=\"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5\" fill=\"#fff\" stroke-linecap=\"butt\" stroke-linejoin=\"miter\" /><path d=\"M11.5 37c5.5 3.5 15.5 3.5 21 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-3.5-7.5-13-10.5-16-4-3 6 5 10 5 10V37z\" fill=\"#fff\" /><path d=\"M11.5 30c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0\" /></g><g id=\"black-pawn\" class=\"black pawn\"><path d=\"M22.5 9c-2.21 0-4 1.79-4 4 0 .89.29 1.71.78 2.38C17.33 16.5 16 18.59 16 21c0 2.03.94 3.84 2.41 5.03-3 1.06-7.41 5.55-7.41 13.47h23c0-7.92-4.41-12.41-7.41-13.47 1.47-1.19 2.41-3 2.41-5.03 0-2.41-1.33-4.5-3.28-5.62.49-.67.78-1.49.78-2.38 0-2.21-1.79-4-4-4z\" fill=\"#000\" stroke=\"#000\" stroke-width=\"1.5\" stroke-linecap=\"round\" /></g><g id=\"black-bishop\" class=\"black bishop\" fill=\"none\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M9 36c3.39-.97 10.11.43 13.5-2 3.39 2.43 10.11 1.03 13.5 2 0 0 1.65.54 3 2-.68.97-1.65.99-3 .5-3.39-.97-10.11.46-13.5-1-3.39 1.46-10.11.03-13.5 1-1.354.49-2.323.47-3-.5 1.354-1.94 3-2 3-2zm6-4c2.5 2.5 12.5 2.5 15 0 .5-1.5 0-2 0-2 0-2.5-2.5-4-2.5-4 5.5-1.5 6-11.5-5-15.5-11 4-10.5 14-5 15.5 0 0-2.5 1.5-2.5 4 0 0-.5.5 0 2zM25 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 1 1 5 0z\" fill=\"#000\" stroke-linecap=\"butt\" /><path d=\"M17.5 26h10M15 30h15m-7.5-14.5v5M20 18h5\" stroke=\"#fff\" stroke-linejoin=\"miter\" /></g><g id=\"black-rook\" class=\"black rook\" fill=\"#000\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M9 39h27v-3H9v3zM12.5 32l1.5-2.5h17l1.5 2.5h-20zM12 36v-4h21v4H12z\" stroke-linecap=\"butt\" /><path d=\"M14 29.5v-13h17v13H14z\" stroke-linecap=\"butt\" stroke-linejoin=\"miter\" /><path d=\"M14 16.5L11 14h23l-3 2.5H14zM11 14V9h4v2h5V9h5v2h5V9h4v5H11z\" stroke-linecap=\"butt\" /><path d=\"M12 35.5h21M13 31.5h19M14 29.5h17M14 16.5h17M11 14h23\" fill=\"none\" stroke=\"#fff\" stroke-width=\"1\" stroke-linejoin=\"miter\" /></g><g id=\"black-queen\" class=\"black queen\" fill=\"#000\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><g fill=\"#000\" stroke=\"none\"><circle cx=\"6\" cy=\"12\" r=\"2.75\" /><circle cx=\"14\" cy=\"9\" r=\"2.75\" /><circle cx=\"22.5\" cy=\"8\" r=\"2.75\" /><circle cx=\"31\" cy=\"9\" r=\"2.75\" /><circle cx=\"39\" cy=\"12\" r=\"2.75\" /></g><path d=\"M9 26c8.5-1.5 21-1.5 27 0l2.5-12.5L31 25l-.3-14.1-5.2 13.6-3-14.5-3 14.5-5.2-13.6L14 25 6.5 13.5 9 26zM9 26c0 2 1.5 2 2.5 4 1 1.5 1 1 .5 3.5-1.5 1-1.5 2.5-1.5 2.5-1.5 1.5.5 2.5.5 2.5 6.5 1 16.5 1 23 0 0 0 1.5-1 0-2.5 0 0 .5-1.5-1-2.5-.5-2.5-.5-2 .5-3.5 1-2 2.5-2 2.5-4-8.5-1.5-18.5-1.5-27 0z\" stroke-linecap=\"butt\" /><path d=\"M11 38.5a35 35 1 0 0 23 0\" fill=\"none\" stroke-linecap=\"butt\" /><path d=\"M11 29a35 35 1 0 1 23 0M12.5 31.5h20M11.5 34.5a35 35 1 0 0 22 0M10.5 37.5a35 35 1 0 0 24 0\" fill=\"none\" stroke=\"#fff\" /></g><g id=\"black-king\" class=\"black king\" fill=\"none\" fill-rule=\"evenodd\" stroke=\"#000\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M22.5 11.63V6\" stroke-linejoin=\"miter\" /><path d=\"M22.5 25s4.5-7.5 3-10.5c0 0-1-2.5-3-2.5s-3 2.5-3 2.5c-1.5 3 3 10.5 3 10.5\" fill=\"#000\" stroke-linecap=\"butt\" stroke-linejoin=\"miter\" /><path d=\"M11.5 37c5.5 3.5 15.5 3.5 21 0v-7s9-4.5 6-10.5c-4-6.5-13.5-3.5-16 4V27v-3.5c-3.5-7.5-13-10.5-16-4-3 6 5 10 5 10V37z\" fill=\"#000\" /><path d=\"M20 8h5\" stroke-linejoin=\"miter\" /><path d=\"M32 29.5s8.5-4 6.03-9.65C34.15 14 25 18 22.5 24.5l.01 2.1-.01-2.1C20 18 9.906 14 6.997 19.85c-2.497 5.65 4.853 9 4.853 9M11.5 30c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0m-21 3.5c5.5-3 15.5-3 21 0\" stroke=\"#fff\" /></g><radialGradient id=\"check_gradient\" r=\"0.5\"><stop offset=\"0%\" stop-color=\"#ff0000\" stop-opacity=\"1.0\" /><stop offset=\"50%\" stop-color=\"#e70000\" stop-opacity=\"1.0\" /><stop offset=\"100%\" stop-color=\"#9e0000\" stop-opacity=\"0.0\" /></radialGradient></defs><rect x=\"7.5\" y=\"7.5\" width=\"375\" height=\"375\" fill=\"none\" stroke=\"#212121\" stroke-width=\"15\" /><g transform=\"translate(20, 1) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M23.328 10.016q-1.742 0-2.414.398-.672.398-.672 1.36 0 .765.5 1.218.508.445 1.375.445 1.196 0 1.914-.843.727-.852.727-2.258v-.32zm2.867-.594v4.992h-1.437v-1.328q-.492.797-1.227 1.18-.734.375-1.797.375-1.343 0-2.14-.75-.79-.758-.79-2.024 0-1.476.985-2.226.992-.75 2.953-.75h2.016V8.75q0-.992-.656-1.531-.649-.547-1.829-.547-.75 0-1.46.18-.711.18-1.368.539V6.062q.79-.304 1.532-.453.742-.156 1.445-.156 1.898 0 2.836.984.937.985.937 2.985z\" /></g><g transform=\"translate(20, 375) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M23.328 10.016q-1.742 0-2.414.398-.672.398-.672 1.36 0 .765.5 1.218.508.445 1.375.445 1.196 0 1.914-.843.727-.852.727-2.258v-.32zm2.867-.594v4.992h-1.437v-1.328q-.492.797-1.227 1.18-.734.375-1.797.375-1.343 0-2.14-.75-.79-.758-.79-2.024 0-1.476.985-2.226.992-.75 2.953-.75h2.016V8.75q0-.992-.656-1.531-.649-.547-1.829-.547-.75 0-1.46.18-.711.18-1.368.539V6.062q.79-.304 1.532-.453.742-.156 1.445-.156 1.898 0 2.836.984.937.985.937 2.985z\" /></g><g transform=\"translate(65, 1) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M24.922 10.047q0-1.586-.656-2.485-.649-.906-1.79-.906-1.14 0-1.796.906-.649.899-.649 2.485 0 1.586.649 2.492.656.898 1.797.898 1.14 0 1.789-.898.656-.906.656-2.492zm-4.89-3.055q.452-.781 1.14-1.156.695-.383 1.656-.383 1.594 0 2.586 1.266 1 1.265 1 3.328 0 2.062-1 3.328-.992 1.266-2.586 1.266-.96 0-1.656-.375-.688-.383-1.14-1.164v1.312h-1.446V2.258h1.445z\" /></g><g transform=\"translate(65, 375) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M24.922 10.047q0-1.586-.656-2.485-.649-.906-1.79-.906-1.14 0-1.796.906-.649.899-.649 2.485 0 1.586.649 2.492.656.898 1.797.898 1.14 0 1.789-.898.656-.906.656-2.492zm-4.89-3.055q.452-.781 1.14-1.156.695-.383 1.656-.383 1.594 0 2.586 1.266 1 1.265 1 3.328 0 2.062-1 3.328-.992 1.266-2.586 1.266-.96 0-1.656-.375-.688-.383-1.14-1.164v1.312h-1.446V2.258h1.445z\" /></g><g transform=\"translate(110, 1) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M25.96 6v1.344q-.608-.336-1.226-.5-.609-.172-1.234-.172-1.398 0-2.172.89-.773.883-.773 2.485 0 1.601.773 2.492.774.883 2.172.883.625 0 1.234-.164.618-.172 1.227-.508v1.328q-.602.281-1.25.422-.64.14-1.367.14-1.977 0-3.14-1.242-1.165-1.242-1.165-3.351 0-2.14 1.172-3.367 1.18-1.227 3.227-1.227.664 0 1.296.14.633.134 1.227.407z\" /></g><g transform=\"translate(110, 375) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M25.96 6v1.344q-.608-.336-1.226-.5-.609-.172-1.234-.172-1.398 0-2.172.89-.773.883-.773 2.485 0 1.601.773 2.492.774.883 2.172.883.625 0 1.234-.164.618-.172 1.227-.508v1.328q-.602.281-1.25.422-.64.14-1.367.14-1.977 0-3.14-1.242-1.165-1.242-1.165-3.351 0-2.14 1.172-3.367 1.18-1.227 3.227-1.227.664 0 1.296.14.633.134 1.227.407z\" /></g><g transform=\"translate(155, 1) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M24.973 6.992V2.258h1.437v12.156h-1.437v-1.312q-.453.78-1.149 1.164-.687.375-1.656.375-1.586 0-2.586-1.266-.992-1.266-.992-3.328 0-2.063.992-3.328 1-1.266 2.586-1.266.969 0 1.656.383.696.375 1.149 1.156zm-4.899 3.055q0 1.586.649 2.492.656.898 1.797.898 1.14 0 1.796-.898.657-.906.657-2.492 0-1.586-.657-2.485-.656-.906-1.796-.906-1.141 0-1.797.906-.649.899-.649 2.485z\" /></g><g transform=\"translate(155, 375) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M24.973 6.992V2.258h1.437v12.156h-1.437v-1.312q-.453.78-1.149 1.164-.687.375-1.656.375-1.586 0-2.586-1.266-.992-1.266-.992-3.328 0-2.063.992-3.328 1-1.266 2.586-1.266.969 0 1.656.383.696.375 1.149 1.156zm-4.899 3.055q0 1.586.649 2.492.656.898 1.797.898 1.14 0 1.796-.898.657-.906.657-2.492 0-1.586-.657-2.485-.656-.906-1.796-.906-1.141 0-1.797.906-.649.899-.649 2.485z\" /></g><g transform=\"translate(200, 1) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M26.555 9.68v.703h-6.61q.094 1.484.89 2.265.806.774 2.235.774.828 0 1.602-.203.781-.203 1.547-.61v1.36q-.774.328-1.586.5-.813.172-1.649.172-2.093 0-3.32-1.22-1.219-1.218-1.219-3.296 0-2.148 1.157-3.406 1.164-1.266 3.132-1.266 1.766 0 2.79 1.14 1.03 1.134 1.03 3.087zm-1.438-.422q-.015-1.18-.664-1.883-.64-.703-1.703-.703-1.203 0-1.93.68-.718.68-.828 1.914z\" /></g><g transform=\"translate(200, 375) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M26.555 9.68v.703h-6.61q.094 1.484.89 2.265.806.774 2.235.774.828 0 1.602-.203.781-.203 1.547-.61v1.36q-.774.328-1.586.5-.813.172-1.649.172-2.093 0-3.32-1.22-1.219-1.218-1.219-3.296 0-2.148 1.157-3.406 1.164-1.266 3.132-1.266 1.766 0 2.79 1.14 1.03 1.134 1.03 3.087zm-1.438-.422q-.015-1.18-.664-1.883-.64-.703-1.703-.703-1.203 0-1.93.68-.718.68-.828 1.914z\" /></g><g transform=\"translate(245, 1) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M25.285 2.258v1.195H23.91q-.773 0-1.078.313-.297.312-.297 1.125v.773h2.367v1.117h-2.367v7.633H21.09V6.781h-1.375V5.664h1.375v-.61q0-1.46.68-2.124.68-.672 2.156-.672z\" /></g><g transform=\"translate(245, 375) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M25.285 2.258v1.195H23.91q-.773 0-1.078.313-.297.312-.297 1.125v.773h2.367v1.117h-2.367v7.633H21.09V6.781h-1.375V5.664h1.375v-.61q0-1.46.68-2.124.68-.672 2.156-.672z\" /></g><g transform=\"translate(290, 1) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M24.973 9.937q0-1.562-.649-2.421-.64-.86-1.804-.86-1.157 0-1.805.86-.64.859-.64 2.421 0 1.555.64 2.415.648.859 1.805.859 1.164 0 1.804-.86.649-.859.649-2.414zm1.437 3.391q0 2.234-.992 3.32-.992 1.094-3.04 1.094-.757 0-1.429-.117-.672-.11-1.304-.344v-1.398q.632.344 1.25.508.617.164 1.257.164 1.414 0 2.118-.743.703-.734.703-2.226v-.711q-.446.773-1.141 1.156-.695.383-1.664.383-1.61 0-2.594-1.227-.984-1.226-.984-3.25 0-2.03.984-3.257.985-1.227 2.594-1.227.969 0 1.664.383t1.14 1.156V5.664h1.438z\" /></g><g transform=\"translate(290, 375) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M24.973 9.937q0-1.562-.649-2.421-.64-.86-1.804-.86-1.157 0-1.805.86-.64.859-.64 2.421 0 1.555.64 2.415.648.859 1.805.859 1.164 0 1.804-.86.649-.859.649-2.414zm1.437 3.391q0 2.234-.992 3.32-.992 1.094-3.04 1.094-.757 0-1.429-.117-.672-.11-1.304-.344v-1.398q.632.344 1.25.508.617.164 1.257.164 1.414 0 2.118-.743.703-.734.703-2.226v-.711q-.446.773-1.141 1.156-.695.383-1.664.383-1.61 0-2.594-1.227-.984-1.226-.984-3.25 0-2.03.984-3.257.985-1.227 2.594-1.227.969 0 1.664.383t1.14 1.156V5.664h1.438z\" /></g><g transform=\"translate(335, 1) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M26.164 9.133v5.281h-1.437V9.18q0-1.243-.485-1.86-.484-.617-1.453-.617-1.164 0-1.836.742-.672.742-.672 2.024v4.945h-1.445V2.258h1.445v4.765q.516-.789 1.211-1.18.703-.39 1.617-.39 1.508 0 2.282.938.773.93.773 2.742z\" /></g><g transform=\"translate(335, 375) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M26.164 9.133v5.281h-1.437V9.18q0-1.243-.485-1.86-.484-.617-1.453-.617-1.164 0-1.836.742-.672.742-.672 2.024v4.945h-1.445V2.258h1.445v4.765q.516-.789 1.211-1.18.703-.39 1.617-.39 1.508 0 2.282.938.773.93.773 2.742z\" /></g><g transform=\"translate(0, 335) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M6.754 26.996h2.578v-8.898l-2.805.562v-1.437l2.79-.563h1.578v10.336h2.578v1.328h-6.72z\" /></g><g transform=\"translate(375, 335) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M6.754 26.996h2.578v-8.898l-2.805.562v-1.437l2.79-.563h1.578v10.336h2.578v1.328h-6.72z\" /></g><g transform=\"translate(0, 290) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M8.195 26.996h5.508v1.328H6.297v-1.328q.898-.93 2.445-2.492 1.555-1.57 1.953-2.024.758-.851 1.055-1.437.305-.594.305-1.164 0-.93-.657-1.516-.648-.586-1.695-.586-.742 0-1.57.258-.82.258-1.758.781v-1.593q.953-.383 1.781-.578.828-.196 1.516-.196 1.812 0 2.89.906 1.079.907 1.079 2.422 0 .72-.274 1.368-.265.64-.976 1.515-.196.227-1.243 1.313-1.046 1.078-2.953 3.023z\" /></g><g transform=\"translate(375, 290) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M8.195 26.996h5.508v1.328H6.297v-1.328q.898-.93 2.445-2.492 1.555-1.57 1.953-2.024.758-.851 1.055-1.437.305-.594.305-1.164 0-.93-.657-1.516-.648-.586-1.695-.586-.742 0-1.57.258-.82.258-1.758.781v-1.593q.953-.383 1.781-.578.828-.196 1.516-.196 1.812 0 2.89.906 1.079.907 1.079 2.422 0 .72-.274 1.368-.265.64-.976 1.515-.196.227-1.243 1.313-1.046 1.078-2.953 3.023z\" /></g><g transform=\"translate(0, 245) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M11.434 22.035q1.132.242 1.765 1.008.64.766.64 1.89 0 1.727-1.187 2.672-1.187.946-3.375.946-.734 0-1.515-.149-.774-.14-1.602-.43V26.45q.656.383 1.438.578.78.196 1.632.196 1.485 0 2.258-.586.782-.586.782-1.703 0-1.032-.727-1.61-.719-.586-2.008-.586h-1.36v-1.297h1.423q1.164 0 1.78-.46.618-.47.618-1.344 0-.899-.64-1.375-.633-.485-1.82-.485-.65 0-1.391.141-.743.14-1.633.437V16.95q.898-.25 1.68-.375.788-.125 1.484-.125 1.797 0 2.844.82 1.046.813 1.046 2.204 0 .968-.554 1.64-.555.664-1.578.922z\" /></g><g transform=\"translate(375, 245) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M11.434 22.035q1.132.242 1.765 1.008.64.766.64 1.89 0 1.727-1.187 2.672-1.187.946-3.375.946-.734 0-1.515-.149-.774-.14-1.602-.43V26.45q.656.383 1.438.578.78.196 1.632.196 1.485 0 2.258-.586.782-.586.782-1.703 0-1.032-.727-1.61-.719-.586-2.008-.586h-1.36v-1.297h1.423q1.164 0 1.78-.46.618-.47.618-1.344 0-.899-.64-1.375-.633-.485-1.82-.485-.65 0-1.391.141-.743.14-1.633.437V16.95q.898-.25 1.68-.375.788-.125 1.484-.125 1.797 0 2.844.82 1.046.813 1.046 2.204 0 .968-.554 1.64-.555.664-1.578.922z\" /></g><g transform=\"translate(0, 200) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M11.016 18.035L7.03 24.262h3.985zm-.414-1.375h1.984v7.602h1.664v1.312h-1.664v2.75h-1.57v-2.75H5.75v-1.523z\" /></g><g transform=\"translate(375, 200) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M11.016 18.035L7.03 24.262h3.985zm-.414-1.375h1.984v7.602h1.664v1.312h-1.664v2.75h-1.57v-2.75H5.75v-1.523z\" /></g><g transform=\"translate(0, 155) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M6.719 16.66h6.195v1.328h-4.75v2.86q.344-.118.688-.172.343-.063.687-.063 1.953 0 3.094 1.07 1.14 1.07 1.14 2.899 0 1.883-1.171 2.93-1.172 1.039-3.305 1.039-.735 0-1.5-.125-.758-.125-1.57-.375v-1.586q.703.383 1.453.57.75.188 1.586.188 1.351 0 2.14-.711.79-.711.79-1.93 0-1.219-.79-1.93-.789-.71-2.14-.71-.633 0-1.266.14-.625.14-1.281.438z\" /></g><g transform=\"translate(375, 155) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M6.719 16.66h6.195v1.328h-4.75v2.86q.344-.118.688-.172.343-.063.687-.063 1.953 0 3.094 1.07 1.14 1.07 1.14 2.899 0 1.883-1.171 2.93-1.172 1.039-3.305 1.039-.735 0-1.5-.125-.758-.125-1.57-.375v-1.586q.703.383 1.453.57.75.188 1.586.188 1.351 0 2.14-.711.79-.711.79-1.93 0-1.219-.79-1.93-.789-.71-2.14-.71-.633 0-1.266.14-.625.14-1.281.438z\" /></g><g transform=\"translate(0, 110) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M10.137 21.863q-1.063 0-1.688.727-.617.726-.617 1.992 0 1.258.617 1.992.625.727 1.688.727 1.062 0 1.68-.727.624-.734.624-1.992 0-1.266-.625-1.992-.617-.727-1.68-.727zm3.133-4.945v1.437q-.594-.28-1.204-.43-.601-.148-1.195-.148-1.562 0-2.39 1.055-.82 1.055-.938 3.188.46-.68 1.156-1.04.696-.367 1.531-.367 1.758 0 2.774 1.07 1.023 1.063 1.023 2.899 0 1.797-1.062 2.883-1.063 1.086-2.828 1.086-2.024 0-3.094-1.547-1.07-1.555-1.07-4.5 0-2.766 1.312-4.406 1.313-1.649 3.524-1.649.593 0 1.195.117.61.118 1.266.352z\" /></g><g transform=\"translate(375, 110) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M10.137 21.863q-1.063 0-1.688.727-.617.726-.617 1.992 0 1.258.617 1.992.625.727 1.688.727 1.062 0 1.68-.727.624-.734.624-1.992 0-1.266-.625-1.992-.617-.727-1.68-.727zm3.133-4.945v1.437q-.594-.28-1.204-.43-.601-.148-1.195-.148-1.562 0-2.39 1.055-.82 1.055-.938 3.188.46-.68 1.156-1.04.696-.367 1.531-.367 1.758 0 2.774 1.07 1.023 1.063 1.023 2.899 0 1.797-1.062 2.883-1.063 1.086-2.828 1.086-2.024 0-3.094-1.547-1.07-1.555-1.07-4.5 0-2.766 1.312-4.406 1.313-1.649 3.524-1.649.593 0 1.195.117.61.118 1.266.352z\" /></g><g transform=\"translate(0, 65) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M6.25 16.66h7.5v.672L9.516 28.324H7.867l3.985-10.336H6.25z\" /></g><g transform=\"translate(375, 65) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M6.25 16.66h7.5v.672L9.516 28.324H7.867l3.985-10.336H6.25z\" /></g><g transform=\"translate(0, 20) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M10 22.785q-1.125 0-1.773.602-.641.601-.641 1.656t.64 1.656q.649.602 1.774.602t1.773-.602q.649-.61.649-1.656 0-1.055-.649-1.656-.64-.602-1.773-.602zm-1.578-.672q-1.016-.25-1.586-.945-.563-.695-.563-1.695 0-1.399.993-2.211 1-.813 2.734-.813 1.742 0 2.734.813.993.812.993 2.21 0 1-.57 1.696-.563.695-1.571.945 1.14.266 1.773 1.04.641.773.641 1.89 0 1.695-1.04 2.602-1.03.906-2.96.906t-2.969-.906Q6 26.738 6 25.043q0-1.117.64-1.89.641-.774 1.782-1.04zm-.578-2.492q0 .906.562 1.414.57.508 1.594.508 1.016 0 1.586-.508.578-.508.578-1.414 0-.906-.578-1.414-.57-.508-1.586-.508-1.023 0-1.594.508-.562.508-.562 1.414z\" /></g><g transform=\"translate(375, 20) scale(0.75, 0.75)\" fill=\"#e5e5e5\" stroke=\"#e5e5e5\"><path d=\"M10 22.785q-1.125 0-1.773.602-.641.601-.641 1.656t.64 1.656q.649.602 1.774.602t1.773-.602q.649-.61.649-1.656 0-1.055-.649-1.656-.64-.602-1.773-.602zm-1.578-.672q-1.016-.25-1.586-.945-.563-.695-.563-1.695 0-1.399.993-2.211 1-.813 2.734-.813 1.742 0 2.734.813.993.812.993 2.21 0 1-.57 1.696-.563.695-1.571.945 1.14.266 1.773 1.04.641.773.641 1.89 0 1.695-1.04 2.602-1.03.906-2.96.906t-2.969-.906Q6 26.738 6 25.043q0-1.117.64-1.89.641-.774 1.782-1.04zm-.578-2.492q0 .906.562 1.414.57.508 1.594.508 1.016 0 1.586-.508.578-.508.578-1.414 0-.906-.578-1.414-.57-.508-1.586-.508-1.023 0-1.594.508-.562.508-.562 1.414z\" /></g><rect x=\"15\" y=\"330\" width=\"45\" height=\"45\" class=\"square dark a1\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"60\" y=\"330\" width=\"45\" height=\"45\" class=\"square light b1\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"105\" y=\"330\" width=\"45\" height=\"45\" class=\"square dark c1\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"150\" y=\"330\" width=\"45\" height=\"45\" class=\"square light d1\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"195\" y=\"330\" width=\"45\" height=\"45\" class=\"square dark e1\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"240\" y=\"330\" width=\"45\" height=\"45\" class=\"square light lastmove f1\" stroke=\"none\" fill=\"#cdd16a\" /><rect x=\"285\" y=\"330\" width=\"45\" height=\"45\" class=\"square dark g1\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"330\" y=\"330\" width=\"45\" height=\"45\" class=\"square light h1\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"15\" y=\"285\" width=\"45\" height=\"45\" class=\"square light a2\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"60\" y=\"285\" width=\"45\" height=\"45\" class=\"square dark b2\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"105\" y=\"285\" width=\"45\" height=\"45\" class=\"square light c2\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"150\" y=\"285\" width=\"45\" height=\"45\" class=\"square dark d2\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"195\" y=\"285\" width=\"45\" height=\"45\" class=\"square light e2\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"240\" y=\"285\" width=\"45\" height=\"45\" class=\"square dark f2\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"285\" y=\"285\" width=\"45\" height=\"45\" class=\"square light g2\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"330\" y=\"285\" width=\"45\" height=\"45\" class=\"square dark h2\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"15\" y=\"240\" width=\"45\" height=\"45\" class=\"square dark a3\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"60\" y=\"240\" width=\"45\" height=\"45\" class=\"square light b3\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"105\" y=\"240\" width=\"45\" height=\"45\" class=\"square dark c3\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"150\" y=\"240\" width=\"45\" height=\"45\" class=\"square light d3\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"195\" y=\"240\" width=\"45\" height=\"45\" class=\"square dark e3\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"240\" y=\"240\" width=\"45\" height=\"45\" class=\"square light lastmove f3\" stroke=\"none\" fill=\"#cdd16a\" /><rect x=\"285\" y=\"240\" width=\"45\" height=\"45\" class=\"square dark g3\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"330\" y=\"240\" width=\"45\" height=\"45\" class=\"square light h3\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"15\" y=\"195\" width=\"45\" height=\"45\" class=\"square light a4\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"60\" y=\"195\" width=\"45\" height=\"45\" class=\"square dark b4\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"105\" y=\"195\" width=\"45\" height=\"45\" class=\"square light c4\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"150\" y=\"195\" width=\"45\" height=\"45\" class=\"square dark d4\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"195\" y=\"195\" width=\"45\" height=\"45\" class=\"square light e4\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"240\" y=\"195\" width=\"45\" height=\"45\" class=\"square dark f4\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"285\" y=\"195\" width=\"45\" height=\"45\" class=\"square light g4\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"330\" y=\"195\" width=\"45\" height=\"45\" class=\"square dark h4\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"15\" y=\"150\" width=\"45\" height=\"45\" class=\"square dark a5\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"60\" y=\"150\" width=\"45\" height=\"45\" class=\"square light b5\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"105\" y=\"150\" width=\"45\" height=\"45\" class=\"square dark c5\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"150\" y=\"150\" width=\"45\" height=\"45\" class=\"square light d5\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"195\" y=\"150\" width=\"45\" height=\"45\" class=\"square dark e5\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"240\" y=\"150\" width=\"45\" height=\"45\" class=\"square light f5\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"285\" y=\"150\" width=\"45\" height=\"45\" class=\"square dark g5\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"330\" y=\"150\" width=\"45\" height=\"45\" class=\"square light h5\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"15\" y=\"105\" width=\"45\" height=\"45\" class=\"square light a6\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"60\" y=\"105\" width=\"45\" height=\"45\" class=\"square dark b6\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"105\" y=\"105\" width=\"45\" height=\"45\" class=\"square light c6\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"150\" y=\"105\" width=\"45\" height=\"45\" class=\"square dark d6\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"195\" y=\"105\" width=\"45\" height=\"45\" class=\"square light e6\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"240\" y=\"105\" width=\"45\" height=\"45\" class=\"square dark f6\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"285\" y=\"105\" width=\"45\" height=\"45\" class=\"square light g6\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"330\" y=\"105\" width=\"45\" height=\"45\" class=\"square dark h6\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"15\" y=\"60\" width=\"45\" height=\"45\" class=\"square dark a7\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"60\" y=\"60\" width=\"45\" height=\"45\" class=\"square light b7\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"105\" y=\"60\" width=\"45\" height=\"45\" class=\"square dark c7\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"150\" y=\"60\" width=\"45\" height=\"45\" class=\"square light d7\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"195\" y=\"60\" width=\"45\" height=\"45\" class=\"square dark e7\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"240\" y=\"60\" width=\"45\" height=\"45\" class=\"square light f7\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"285\" y=\"60\" width=\"45\" height=\"45\" class=\"square dark g7\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"330\" y=\"60\" width=\"45\" height=\"45\" class=\"square light h7\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"15\" y=\"15\" width=\"45\" height=\"45\" class=\"square light a8\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"60\" y=\"15\" width=\"45\" height=\"45\" class=\"square dark b8\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"105\" y=\"15\" width=\"45\" height=\"45\" class=\"square light c8\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"150\" y=\"15\" width=\"45\" height=\"45\" class=\"square dark d8\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"195\" y=\"15\" width=\"45\" height=\"45\" class=\"square light e8\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"240\" y=\"15\" width=\"45\" height=\"45\" class=\"square dark f8\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"285\" y=\"15\" width=\"45\" height=\"45\" class=\"square light g8\" stroke=\"none\" fill=\"#ffce9e\" /><rect x=\"330\" y=\"15\" width=\"45\" height=\"45\" class=\"square dark h8\" stroke=\"none\" fill=\"#d18b47\" /><rect x=\"285\" y=\"240\" width=\"45\" height=\"45\" class=\"check\" fill=\"url(#check_gradient)\" /><use href=\"#white-king\" xlink:href=\"#white-king\" transform=\"translate(330, 330)\" /><use href=\"#white-pawn\" xlink:href=\"#white-pawn\" transform=\"translate(15, 285)\" /><use href=\"#white-pawn\" xlink:href=\"#white-pawn\" transform=\"translate(60, 285)\" /><use href=\"#black-queen\" xlink:href=\"#black-queen\" transform=\"translate(150, 285)\" /><use href=\"#black-pawn\" xlink:href=\"#black-pawn\" transform=\"translate(330, 285)\" /><use href=\"#white-pawn\" xlink:href=\"#white-pawn\" transform=\"translate(105, 240)\" /><use href=\"#white-rook\" xlink:href=\"#white-rook\" transform=\"translate(240, 240)\" /><use href=\"#black-king\" xlink:href=\"#black-king\" transform=\"translate(285, 240)\" /><use href=\"#white-pawn\" xlink:href=\"#white-pawn\" transform=\"translate(150, 195)\" /><use href=\"#black-pawn\" xlink:href=\"#black-pawn\" transform=\"translate(150, 150)\" /><use href=\"#white-queen\" xlink:href=\"#white-queen\" transform=\"translate(330, 150)\" /><use href=\"#black-pawn\" xlink:href=\"#black-pawn\" transform=\"translate(105, 105)\" /><use href=\"#black-bishop\" xlink:href=\"#black-bishop\" transform=\"translate(195, 105)\" /><use href=\"#black-pawn\" xlink:href=\"#black-pawn\" transform=\"translate(15, 60)\" /><use href=\"#black-pawn\" xlink:href=\"#black-pawn\" transform=\"translate(60, 60)\" /><use href=\"#black-pawn\" xlink:href=\"#black-pawn\" transform=\"translate(240, 60)\" /><use href=\"#black-rook\" xlink:href=\"#black-rook\" transform=\"translate(285, 15)\" /></svg>"},"metadata":{}},{"output_type":"stream","name":"stdout","text":["\n","\n","White's king is checkmated.\n","Positions of black king [(6, 2, 'g3')] white queens [(7, 4, 'h5')] and rooks [(5, 2, 'f3')]\n","white K is on h1\n","white P is on a2\n","white P is on b2\n","white P is on c3\n","white R is on f3\n","white P is on d4\n","white Q is on h5\n"]}]},{"cell_type":"code","source":[],"metadata":{"id":"FngEJZPVfG7b","executionInfo":{"status":"ok","timestamp":1729288200943,"user_tz":-120,"elapsed":8,"user":{"displayName":"Dirkster9999 ___","userId":"14481456906440972157"}}},"execution_count":55,"outputs":[]}],"metadata":{"colab":{"provenance":[{"file_id":"/v2/external/notebooks/intro.ipynb","timestamp":1729283846144}]},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}